<HTML
><HEAD
><TITLE
>imap_fetchstructure</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.44"><LINK
REL="HOME"
TITLE="PHP Manual"
HREF="manual.html"><LINK
REL="UP"
TITLE="IMAP functions"
HREF="ref.imap.html"><LINK
REL="PREVIOUS"
TITLE="imap_fetchbody"
HREF="function.imap-fetchbody.html"><LINK
REL="NEXT"
TITLE="imap_header"
HREF="function.imap-header.html"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PHP Manual</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="function.imap-fetchbody.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="function.imap-header.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="FUNCTION.IMAP-FETCHSTRUCTURE"
>imap_fetchstructure</A
></H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN12691"
></A
>imap_fetchstructure -- Read the structure of a particular message</DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN12694"
></A
><H2
>Description</H2
><DIV
CLASS="FUNCSYNOPSIS"
><P
></P
><CODE
CLASS="FUNCDEF"
>object imap_fetchstructure</CODE
>(int imap_stream, int msg_number, int 
      [<SPAN
CLASS="OPTIONAL"
>flags</SPAN
>]
     );<P
></P
></DIV
><P
>     This function fetches all the structured information for a given
     message. The optional <TT
CLASS="PARAMETER"
><I
>flags</I
></TT
> parameter only
     has a single option, <TT
CLASS="PARAMETER"
><I
>FT_UID</I
></TT
>, which tells
     the function to treat the <TT
CLASS="PARAMETER"
><I
>msg_number</I
></TT
>
     argument as a <TT
CLASS="PARAMETER"
><I
>UID</I
></TT
>. The returned object
     includes the envelope, internal date, size, flags and body
     structure along with a similar object for each mime
     attachement. The structure of the returned objects is as follows:
    </P
><P
>     <DIV
CLASS="TABLE"
><P
><B
>Table 1.        Returned Objects for <B
CLASS="FUNCTION"
>imap_fetchstructure()</B
>
      </B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>type</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Primary body type</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>encoding</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Body transfer encoding</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ifsubtype</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>True if there is a subtype string</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>subtype</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><SPAN
CLASS="ACRONYM"
>MIME</SPAN
> subtype</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ifdescription</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>True if there is a description string</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>description</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Content description string</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ifid</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>True if there is an identification string</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>id</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Identification string</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>lines</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Number of lines</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>bytes</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Number of bytes</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ifdisposition</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>True if there is a disposition string</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>disposition</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Disposition string</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ifdparameters</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>True if the dparameters array exists</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>dparameters
	  <A
NAME="AEN12759"
HREF="#FTN.AEN12759"
>[a]</A
>
	 </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Disposition parameter array</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ifparameters</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>True if the parameters array exists</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>parameters
	  <A
NAME="AEN12767"
HREF="#FTN.AEN12767"
>[b]</A
>
	 </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><SPAN
CLASS="ACRONYM"
>MIME</SPAN
> parameters array</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>parts
	  <A
NAME="AEN12773"
HREF="#FTN.AEN12773"
>[c]</A
>
	 </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Array of objects describing each message part</TD
></TR
><TR
><TD
COLSPAN="2"
>Notes:<BR><A
NAME="FTN.AEN12759"
>a. </A
>	    dparameters is an array of objects where each object has
	    an "attribute" and a "value" property.
	   <BR><A
NAME="FTN.AEN12767"
>b. </A
>	    parameter is an array of objects where each object has an
	    "attributte" and a "value" property.
	   <BR><A
NAME="FTN.AEN12773"
>c. </A
>	    parts is an array of objects identical in structure to the
	    top-level object, with the limitation that it cannot
	    contain further 'parts' objects.
	   <BR></TD
></TR
></TABLE
></DIV
>
    </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="function.imap-fetchbody.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="manual.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="function.imap-header.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>imap_fetchbody</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="ref.imap.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>imap_header</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>